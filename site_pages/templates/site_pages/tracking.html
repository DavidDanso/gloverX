{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <title>{{ page_title }}</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="{{ meta_description }}" />
    <meta name="keywords" content="shipping Ghana, cargo services Ghana, customs clearing, international shipping, freight forwarding, import export Ghana, logistics company Ghana, shipping company Accra, express delivery Ghana, worldwide shipping Ghana" />
    <meta name="author" content="the_desiinger" />

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="{{ page_title }}" />
    <meta property="og:description" content="{{ meta_description }}" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://gloverxshipping.com{{ request.path }}" />
    <meta property="og:image" content="{% static 'images/gloverx.png' %}" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{{ page_title }}" />
    <meta name="twitter:description" content="{{ meta_description }}" />
    <meta name="twitter:image" content="{% static 'images/gloverx.png' %}" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://gloverxshipping.com{{ request.path }}" />

    <!-- Add Schema.org markup -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "ShippingCompany",
        "name": "Gloverx Shipping",
        "description": "Professional shipping and customs clearing services in Ghana",
        "address": {
          "@type": "PostalAddress",
          "addressCountry": "Ghana",
          "addressLocality": "Accra"
        },
        "url": "https://gloverxshipping.com",
        "telephone": "0555255911",
        "email": "info@gloverxshipping.com",
        "sameAs": ["https://twitter.com/gloverxshipping", "https://instagram.com/gloverx_shipping"],
        "openingHours": "Mo-Fr 09:00-17:00",
        "priceRange": "₵₵",
        "image": "{% static 'images/gloverx.png' %}"
      }
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/favicon/favicon-96x96.png' %}" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="{% static 'images/favicon/favicon.svg' %}" />
    <link rel="shortcut icon" href="{% static 'images/favicon/favicon.ico' %}" />
    <link rel="apple-touch-icon" href="{% static 'images/favicon/apple-touch-icon.png' %}" />
    <link rel="manifest" href="{% static 'images/favicon/site.webmanifest' %}" />
    <meta name="apple-mobile-web-app-title" content="Gloverx Shipping" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/tracking.css' %}" />
    <link rel="stylesheet" href="{% static 'css/button_style.css' %}" />
    <link rel="stylesheet" href="{% static 'css/normalize.css' %}" />
    <link rel="stylesheet" href="https://unpkg.com/splitting/dist/splitting.css" />
    <link rel="stylesheet" href="https://unpkg.com/splitting/dist/splitting-cells.css" />
  </head>
  <body data-scroll-one class="demo-1" id="pageTop">
    <!--=============================================== Navigation ================================-->
    <nav class="navbar navbar-expand-lg fixed-top" id="mainNav">
      <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'home' %}">
          <img src="{% static 'images/gloverx.png' %}" />
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
          <span class="navbar-toggler-icon"></span>
          <span class="navbar-toggler-icon"></span>
        </button>

        <!--  -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="{% url 'about' %}">About Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'services' %}">Our Services</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'contact' %}">Contact Us</a>
            </li>
          </ul>
          <li class="nav-item" id="track_shipment_btn">
            <a href="#pageTop" id="track_shipment">
              <button class="button alternative">Track Shipment</button>
            </a>
          </li>
        </div>
      </div>
    </nav>
    <!-- End NavBar -->

    <main>
      <div data-scroll-one class="page page--layout-2">
        <!--====================================================== Img-Content ==========================================-->
        <div class="content content--full content--alternate"></div>
        <!-- End content -->
        <!--=============================================== Hero-Section ================================-->
        <div id="hero">
          <div class="container-fluid">
            <div class="hero-intro">
              <h1>Track Your Package, Stay Updated Every Step of the Way</h1>
              <p>Easily monitor the progress of your package with our reliable tracking system, <span></span> ensuring you stay informed every step of the way.</p>

              <!-- Tracking number input box -->
              <button type="button" class="btn" id="trackButton" onclick="doTrack()">
                <img src="{% static 'images/rfid.png' %}" class="img-fluid" id="rfid_img" alt="rfid_img" />
                Track Item
              </button>

              <div id="track123-tracking-widget"></div>
              <!-- end Tracking number input box -->
              <!--  -->
              <img src="{% static 'images/sub_banner.avif' %}" class="img-fluid" id="sub_banner" alt="sub_banner" />
              <!--  -->
            </div>
            <!-- End hero-intro -->
          </div>
          <!-- End container-fluidd -->
        </div>
        <!-- End hero -->

        <!--============================================ Message-Section ================================-->
        <div id="message">
          <div class="container-fluid">
            <div class="message-intro">
              <h1 data-splitting>Gloverx Shipping Services</h1>
              <h6 class="animate-this">
                <img id="roll" src="{% static 'images/line.png' %}" class="img-fluid" alt="rool_img" />
                Delivering Smiles, One Package at a Time.
              </h6>
            </div>
            <!-- End message-intro -->
          </div>
          <!-- End container-fluid -->
        </div>
        <!-- End message -->

        <!--============================================ Footer-Section ================================-->
        <footer>
          <div class="container-fluid">
            <div class="footer-intro">
              <div class="card">
                <div class="card-body">
                  <div class="row footer-content">
                    <div class="col-md-8">
                      <img src="{% static 'images/gloverx.png' %}" class="img-fluid" id="footer_logo" alt="footer_logo" />
                      <a href="{% url 'contact' %}"><span>Contact Us</span></a>
                      <a href="#pageTop" class="active">Track Shipment</a>
                    </div>
                    <!-- end col -->

                    <div class="col-md-4 social-links align-self-center">
                      <a href="https://twitter.com/gloverxshipping" aria-label="Twitter" target="_blank">
                        <img src="{% static 'images/x.svg' %}" id="footer_icon" class="img-fluid" alt="footer_icon" />
                      </a>
                      <a href="https://instagram.com/gloverx_shipping" aria-label="Instagram" target="_blank">
                        <img src="{% static 'images/ig.svg' %}" id="footer_icon" class="img-fluid" alt="footer_icon" />
                      </a>
                    </div>
                    <!-- end social-links -->
                  </div>
                  <!-- end footer-content -->
                </div>
                <!-- end card-body -->
              </div>
              <!-- end card -->

              <!--  -->
              <div class="footer-sub">
                <p>&copy; 2025 Gloverx. All rights reserved.</p>
              </div>
              <!-- end footer-sub -->
              <!--  -->
            </div>
            <!-- end footer-intro -->
          </div>
          <!-- end container -->
        </footer>
        <!-- end footer -->

        <!--  -->
        <div class="whatsapp-container">
          <div class="need-help">Need Help?</div>
          <a href="https://api.whatsapp.com/send?phone=+233555255911&text=Hello%2C%20I%20want%20to%20know%20more%20about%20your%20services" target="_blank" class="whatsapp-btn">
            <img src="{% static 'images/whatsapp-icon.png' %}" class="img-fluid" alt="WhatsApp Chat" />
          </a>
        </div>
        <!-- end whatsapp-container -->

        <!--  -->
        <div class="cursor">
          <div class="cursor__inner cursor__inner--circle"></div>
        </div>
        <!-- End cursor -->
      </div>
      <!-- End page--layout-2 -->
    </main>
    <!--=============================================== JavaScript ===================================-->
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.0/gsap.min.js"></script>
    <script src="{% static 'js/jquery-3.2.1.js' %}"></script>
    <script src="{% static 'js/jquery-min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <!-- unpkg -->
    <script src="https://unpkg.com/@barba/core"></script>
    <!-- Custom Script -->
    <script src="{% static 'js/scrollTrigger.min.js' %}"></script>
    <script src="https://unpkg.com/scroll-out/dist/scroll-out.min.js"></script>
    <script src="https://unpkg.com/splitting/dist/splitting.min.js"></script>
    <script src="{% static 'js/vendor/charming.min.js' %}"></script>
    <script src="{% static 'js/vendor/TweenMax.min.js' %}"></script>
    <script src="{% static 'js/imagesloaded.pkgd.min.js' %}"></script>
    <script src="{% static 'js/tracking.js' %}"></script>

    <script type="text/javascript">
      function loadTrack123Widget(callback, errorCallback) {
        const oldScript = document.querySelector('script[src="https://www.track123.com/track123-widget.min.js"]');
        if (oldScript) oldScript.remove();

        const script = document.createElement("script");
        script.src = "https://www.track123.com/track123-widget.min.js";

        script.onload = function () {
          if (callback) callback();
        };

        script.onerror = function () {
          console.error("Failed to load Track123 widget");
          if (errorCallback) errorCallback();
        };

        document.body.appendChild(script);
      }

      function checkWidgetLoaded(callback, errorCallback) {
        let attempts = 0;
        const maxAttempts = 10;

        const interval = setInterval(function () {
          const widgetContainer = document.getElementById("track123-tracking-widget");

          if (widgetContainer && widgetContainer.querySelector("iframe")) {
            clearInterval(interval);
            if (callback) callback();
          } else if (++attempts >= maxAttempts) {
            clearInterval(interval);
            console.error("Widget loading timed out");
            if (errorCallback) errorCallback();
          }
        }, 500);
      }

      function doTrack() {
        const btn = document.getElementById("trackButton");
        const originalHTML = '<img src="{% static "images/rfid.png" %}" class="img-fluid" id="rfid_img" alt="rfid_img" /> Track Item';

        btn.disabled = true;
        btn.innerHTML = "Loading...";
        document.getElementById("track123-tracking-widget").innerHTML = "";

        window.track123WidgetConfig = {
          api_base: "https://www.track123.com",
          provider_type: 3,
          language: "en_US",
          theme_color: "#ff6f00f4",
          width_type: "auto",
          width_value: "",
        };

        loadTrack123Widget(
          function () {
            checkWidgetLoaded(
              function () {
                btn.disabled = false;
                btn.innerHTML = originalHTML;
              },
              function () {
                btn.disabled = false;
                btn.innerHTML = originalHTML;
                alert("Failed to load tracking widget");
              }
            );
          },
          function () {
            btn.disabled = false;
            btn.innerHTML = originalHTML;
            alert("Failed to load tracking script");
          }
        );
      }
    </script>
  </body>
</html>
